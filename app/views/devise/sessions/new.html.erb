<div class='onboarding-card onboarding-card-sm mb-4' data-controller="signup">
  <header class="header-account mb-2">
    <div class="row mx-0" style="height: 250px">
      <div class="col-6 d-flex h-100">
        <div class='row align-self-end ma-0'>
          <h1 class="h2 mb-5 mx-3">Me connecter</h1>
          <p  class="my-3 mx-3 link-account"><%= link_to "Pas encore de compte&nbsp;?".html_safe, users_choose_profile_path, class: 'text-danger' %></p>
        </div>
      </div>
      <div class="col-6 d-flex h-100 flex-row align-items-end justify-content-end">
          <div class="row">
            <%= image_tag asset_pack_path('media/images/onboarding/student.svg'), class:'justify-content-end align-self-end', alt: "Elève", height: 220 %>
          </div>
      </div>
    </div>
  </header>
  <div class="body">
    <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <%= f.rg2a_explain_required_asterisk %>
      <%= render "layouts/form_errors", resource: resource, resource_name: :user %>
     
      <%= render 'users/select_channel', label: 'Comment vous Connecter ?' %>

      <div data-target="signup.emailBloc" class="form-group email d-none">
        <%= f.label :email do %>
          Adresse électronique (e-mail)
          <%= f.rg2a_required_content_tag %>
        <% end %>
        <%= f.email_field :email, autofocus: params[:email].blank? ? true : false, autocomplete: "email", class: 'form-control ', value: params[:email] %>
        <small data-target="signup.emailHint"></small>
      </div>

      <div data-target="signup.phoneBloc" class="form-group phone d-none">
        <%= f.label :phone do %>
          <%= 'Numéro de mobile' %>
          <small class="form-text text-muted">Ce numéro sera utilisé pour communiquer avec vous</small>
        <% end %>
        <%= react_component("CountryPhoneSelect", 
          { 
            name: 'user[phone]',
            value: resource.phone
          })
        %>
      </div>

      <div class="form-group">
        <%= f.label :password do %>
          Mot de passe
          <%= f.rg2a_required_content_tag %>
        <% end %>
        <%= f.password_field :password, autocomplete: "current-password", class: 'form-control  ', required: true, autofocus: params[:email].blank? ? false : true %>
        <%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
          <%= link_to t("devise.passwords.new.forgot_your_password"), new_password_path(resource_name), class: 'form-text text-muted small' %>
        <% end %>
      </div>
      
      <div class="form-group form-check">
        <%= f.check_box :remember_me, class: 'form-check-input' %>
        <%= f.label :remember_me, class: 'form-check-label' %>
      </div>

      <div class="actions d-flex d-sm-block text-center">
        <%= f.submit t('.sign_in'), class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>  
</div>
<p class="onboarding-footer text-center my-3">
  <%= link_to "Vous n'avez pas reçu le message d'activation&nbsp;?".html_safe, new_user_confirmation_path(resource_name), class: "small" %>
</p>
